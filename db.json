{"meta":{"version":1,"warehouse":"5.0.0"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","path":"fancybox/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","path":"fancybox/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","path":"js/jquery-3.6.4.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":0,"renderable":1},{"_id":"themes/butterfly/source/img/albert-park.jpg","path":"img/albert-park.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1701310868066},{"_id":"node_modules/hexo-theme-landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1701310880420},{"_id":"node_modules/hexo-theme-landscape/README.md","hash":"1a9b279e6dd29fd19245f913f0c4a316ffaa62db","modified":1701310880945},{"_id":"node_modules/hexo-theme-landscape/languages/de-DE.yml","hash":"d29d1c4256b7ed9df42f511c2ff0a23ad5fd6c1f","modified":1701310880984},{"_id":"node_modules/hexo-theme-landscape/_config.yml","hash":"b608c1f1322760dce9805285a602a95832730a2e","modified":1701310880980},{"_id":"node_modules/hexo-theme-landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1701310880985},{"_id":"node_modules/hexo-theme-landscape/package.json","hash":"4bf95d52f77edf811f23f6d264a7493311a8d078","modified":1701310880940},{"_id":"node_modules/hexo-theme-landscape/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1701310880985},{"_id":"node_modules/hexo-theme-landscape/languages/en-GB.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1701310880986},{"_id":"node_modules/hexo-theme-landscape/languages/en-US.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1701310880988},{"_id":"node_modules/hexo-theme-landscape/languages/es-ES.yml","hash":"7008a8fc91f18d2a735864817b8ebda30c7a2c66","modified":1701310880991},{"_id":"node_modules/hexo-theme-landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1701310880992},{"_id":"node_modules/hexo-theme-landscape/languages/fr-FR.yml","hash":"8d09dbdab00a30a2870b56f7c0a7ca7deafa7b88","modified":1701310880993},{"_id":"node_modules/hexo-theme-landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1701310880993},{"_id":"node_modules/hexo-theme-landscape/languages/en.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1701310880989},{"_id":"node_modules/hexo-theme-landscape/languages/hu-HU.yml","hash":"712d18664898fa21ba38d4973e90ef41a324ea25","modified":1701310880993},{"_id":"node_modules/hexo-theme-landscape/languages/hu.yml","hash":"284d557130bf54a74e7dcef9d42096130e4d9550","modified":1701310880994},{"_id":"node_modules/hexo-theme-landscape/languages/it-IT.yml","hash":"2cb6dc2fab9bd2dbe1c8bb869a9e8bf85a564fdd","modified":1701310881010},{"_id":"node_modules/hexo-theme-landscape/languages/it.yml","hash":"89b7d91306b2c1a0f3ac023b657bf974f798a1e8","modified":1701310881013},{"_id":"node_modules/hexo-theme-landscape/languages/ja-JP.yml","hash":"08481267e0c112e1f6855620f2837ec4c4a98bbd","modified":1701310881018},{"_id":"node_modules/hexo-theme-landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1701310881021},{"_id":"node_modules/hexo-theme-landscape/languages/ko-KR.yml","hash":"19209ad8f9d4057e8df808937f950eb265e1db69","modified":1701310881023},{"_id":"node_modules/hexo-theme-landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1701310881024},{"_id":"node_modules/hexo-theme-landscape/languages/mn-MN.yml","hash":"b9e5f3e7c0c2f779cf2cfded6db847b5941637ca","modified":1701310881025},{"_id":"node_modules/hexo-theme-landscape/languages/mn.yml","hash":"2e7523951072a9403ead3840ad823edd1084c116","modified":1701310881026},{"_id":"node_modules/hexo-theme-landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1701310881029},{"_id":"node_modules/hexo-theme-landscape/languages/nl-NL.yml","hash":"5ebbc30021f05d99938f96dfff280392df7f91f0","modified":1701310881026},{"_id":"node_modules/hexo-theme-landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1701310881029},{"_id":"node_modules/hexo-theme-landscape/languages/pt-PT.yml","hash":"0f852b6b228e6ea59aa3540574bb89b233f2a098","modified":1701310881030},{"_id":"node_modules/hexo-theme-landscape/languages/ru-RU.yml","hash":"360d11a28bb768afb1dd15f63fa7fd3a8cc547ee","modified":1701310881033},{"_id":"node_modules/hexo-theme-landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1701310881030},{"_id":"node_modules/hexo-theme-landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1701310881033},{"_id":"node_modules/hexo-theme-landscape/languages/th-TH.yml","hash":"ebfdba9bc4842c829473c1e6e4544344f182724d","modified":1701310881034},{"_id":"node_modules/hexo-theme-landscape/languages/tr.yml","hash":"a1cdbfa17682d7a971de8ab8588bf57c74224b5b","modified":1701310881036},{"_id":"node_modules/hexo-theme-landscape/languages/th.yml","hash":"84a55b00aa01f03982be294e43c33a20e6d32862","modified":1701310881036},{"_id":"node_modules/hexo-theme-landscape/languages/zh-CN.yml","hash":"1efd95774f401c80193eac6ee3f1794bfe93dc5a","modified":1701310881039},{"_id":"node_modules/hexo-theme-landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1701310881039},{"_id":"node_modules/hexo-theme-landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1701310880685},{"_id":"node_modules/hexo-theme-landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1701310880701},{"_id":"node_modules/hexo-theme-landscape/layout/layout.ejs","hash":"0d1765036e4874500e68256fedb7470e96eeb6ee","modified":1701310880702},{"_id":"node_modules/hexo-theme-landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1701310880671},{"_id":"node_modules/hexo-theme-landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1701310880714},{"_id":"node_modules/hexo-theme-landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1701310880711},{"_id":"node_modules/hexo-theme-landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1701310880725},{"_id":"node_modules/hexo-theme-landscape/scripts/fancybox.js","hash":"c857d7a5e4a5d71c743a009c5932bf84229db428","modified":1701310880910},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1701310880627},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/archive.ejs","hash":"7cb70a7a54f8c7ae49b10d1f37c0a9b74eab8826","modified":1701310880635},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/after-footer.ejs","hash":"377d257d5d16e0158a4405c72401517b074fd7ff","modified":1701310880607},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/article.ejs","hash":"56597e951203dd662a6d2c817c7c4f1c920d4a25","modified":1701310880674},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/footer.ejs","hash":"3656eb692254346671abc03cb3ba1459829e0dce","modified":1701310880689},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/google-analytics.ejs","hash":"2ea7442ea1e1a8ab4e41e26c563f58413b59a3d0","modified":1701310880696},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/gauges-analytics.ejs","hash":"21a1e2a3907d1a3dad1cd0ab855fe6735f233c74","modified":1701310880695},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/head.ejs","hash":"f05bced793b0314d4f2ef0c993b3a51d0b7d203a","modified":1701310880698},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1701310880719},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1701310880705},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/header.ejs","hash":"6a5033d189554c9a6d42e2ef7952ae5c9742648e","modified":1701310880700},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1701310880660},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1701310880724},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1701310880682},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/recent_posts.ejs","hash":"60c4b012dcc656438ff59997e60367e5a21ab746","modified":1701310880716},{"_id":"node_modules/hexo-theme-landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1701310880728},{"_id":"node_modules/hexo-theme-landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1701310880951},{"_id":"node_modules/hexo-theme-landscape/source/css/_variables.styl","hash":"ca28281423ae57d76b6c1eb91cd845fd4e518bd6","modified":1701310880951},{"_id":"node_modules/hexo-theme-landscape/source/css/style.styl","hash":"e55a1d92954ed20f6887f92dc727bb995a010a43","modified":1701310880979},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1701310880576},{"_id":"node_modules/hexo-theme-landscape/source/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1701310880936},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1701310880706},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1701310880679},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/date.ejs","hash":"f1458584b679545830b75bef2526e2f3eb931045","modified":1701310880687},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1701310880720},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1701310880692},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1701310880958},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/article.styl","hash":"2d1f6f79ebf9cb55ebdb3865a2474437eb2b37c6","modified":1701310880961},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1701310880963},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1701310880964},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/highlight.styl","hash":"9cc3b2927d814f2f6e8e188f9d3657b94f4c6ef3","modified":1701310880973},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/header.styl","hash":"268d2989acb06e2ddd06cc36a6918c6cd865476b","modified":1701310880970},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1701310880974},{"_id":"node_modules/hexo-theme-landscape/layout/_partial/post/title.ejs","hash":"4d7e62574ddf46de9b41605fe3140d77b5ddb26d","modified":1701310880732},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1701310880975},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1701310880970},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1701310880978},{"_id":"node_modules/hexo-theme-landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1701310880978},{"_id":"node_modules/hexo-theme-landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1701310880974},{"_id":"node_modules/hexo-theme-landscape/source/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1701310880933},{"_id":"node_modules/hexo-theme-landscape/source/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1701310880925},{"_id":"node_modules/hexo-theme-landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1701310880892},{"_id":"themes/butterfly/LICENSE","hash":"1128f8f91104ba9ef98d37eea6523a888dcfa5de","modified":1701316433961},{"_id":"themes/butterfly/README.md","hash":"4e01b47448d9f3a02afc04eef644e2321253f6f4","modified":1701316433961},{"_id":"themes/butterfly/README_CN.md","hash":"148da187d16033624ceccce8b8561835296f5a5a","modified":1701316433961},{"_id":"themes/butterfly/package.json","hash":"806ede300bb0d8a12b23af1d64a639ad09cb29f9","modified":1701316433974},{"_id":"themes/butterfly/plugins.yml","hash":"3b3b5fa56c0211a52530a99a69137027245c21b0","modified":1701316433974},{"_id":"themes/butterfly/_config.yml","hash":"421b77b99c85035f34183ff14cbfbc4dff1a3078","modified":1701316433962},{"_id":"themes/butterfly/languages/default.yml","hash":"90a6dc361de67532437d819a55ec64945ca5404b","modified":1701316433962},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"5004faee365139521f161babd66649a8107e4008","modified":1701316433962},{"_id":"themes/butterfly/languages/en.yml","hash":"af5603b1a888f167dc80be6d53a19437b5cf6bef","modified":1701316433962},{"_id":"themes/butterfly/layout/archive.pug","hash":"bb32c9c476372de747dfa563b83f77d7a917a77d","modified":1701316433962},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"03629d1d13a7be09d4933aa5dc0dcbe45e79140c","modified":1701316433962},{"_id":"themes/butterfly/layout/category.pug","hash":"710708cfdb436bc875602abf096c919ccdf544db","modified":1701316433962},{"_id":"themes/butterfly/layout/index.pug","hash":"e1c3146834c16e6077406180858add0a8183875a","modified":1701316433973},{"_id":"themes/butterfly/layout/page.pug","hash":"baf469784aef227e4cc840550888554588e87a13","modified":1701316433973},{"_id":"themes/butterfly/layout/post.pug","hash":"fc9f45252d78fcd15e4a82bfd144401cba5b169a","modified":1701316433973},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"7b4831ae8f8f8c55dd1b856781210c517c63e6dd","modified":1701316433960},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"6e34b565ea013812d5e363b6de5fa1f9078d4e12","modified":1701316433960},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"996640605ed1e8e35182f0fd9a60a88783b24b03","modified":1701316433961},{"_id":"themes/butterfly/layout/includes/404.pug","hash":"cb49f737aca272ccfeb62880bd651eccee72a129","modified":1701316433963},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"05857c2f265246d8de00e31037f2720709540c09","modified":1701316433961},{"_id":"themes/butterfly/.github/workflows/stale.yml","hash":"ac62b989b5550c756e1986fcc68f243170705383","modified":1701316433961},{"_id":"themes/butterfly/layout/tag.pug","hash":"0440f42569df2676273c026a92384fa7729bc4e9","modified":1701316433973},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"02390a5b6ae1f57497b22ba2e6be9f13cfb7acac","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"aca0ec7ef69b21d1f242c62fed389468a0f0e1a2","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"7fa9ae4b70b87fc97e992dde5944681f92b59bea","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"ecec62305aaa596bb1dfbb46c13d06fb5a9628cf","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"4c85de4dea4dca4e5088097a79bd6d7009cbf8ef","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"db275f7fbe4438b54cd813b695f4834e10aa234f","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"9f0e9e039f304439007460fa0a7c8ac18e0ffd37","modified":1701316433966},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"5351e0bc09e6b5b3f6d30f333a2520626a28ca3a","modified":1701316433974},{"_id":"themes/butterfly/scripts/events/404.js","hash":"83cd7f73225ccad123afbd526ce1834eb1eb6a6d","modified":1701316433974},{"_id":"themes/butterfly/scripts/events/init.js","hash":"428b94c7b9e83f7ea36227dee66bfe3c23aee4a8","modified":1701316433974},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"21fb5aabe043486d095c4c8cce361ed85ba88a26","modified":1701316433974},{"_id":"themes/butterfly/scripts/events/merge_config.js","hash":"351df17e06bb5c5788cd36105ecaa849d43edcce","modified":1701316433974},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"e196a99733d7f90899bceed5d12488e8234817d5","modified":1701316433974},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"860f967ecf3c6a6ea785b560a7aae4d0757cd18a","modified":1701316433975},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"8ad9911b755cba13dde2cc055c3f857a6b0dd20e","modified":1701316433975},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"a8eef3f37428436554f58a2b6bac7c255fbdf38d","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"2ec66513d5322f185d2071acc052978ba9415a8e","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/findArchiveLength.js","hash":"7caf549810f971c34196fb9deac2d992545bdff9","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"96f861151e3b889ef0ffe78821d489ad2625ee43","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"e2a8a09bfe47da26eab242a36f516e6c452c799a","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"d5c7e61257b08a9648404f6f48ce4d471cd5fa55","modified":1701316433975},{"_id":"themes/butterfly/scripts/helpers/series.js","hash":"821e973d41f7b3b64cde91e0e836ea49c43e3c06","modified":1701316433976},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"4677be4175da6800c0b3b8c1614e593f73df8831","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"ab62919fa567b95fbe14889517abda649991b1ee","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"93229d44b35b9da92e647b89d6d3087085974a29","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"365db87ddfc582bf8c15cb440c48bed95106e4b1","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"418684993a3a3a2ac534257a2d9ecbcead6808c1","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"19773218877281ccffed921431e87148413a7c20","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"1acefc59ead75ebd8cafee36efc7da4fa426d088","modified":1701316433977},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"512c68a22ae4a58d6a6b24b368a0c00c2ccb4fcb","modified":1701316433976},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"5c2a07df5874b5377540884e4da14dd21489378f","modified":1701316433977},{"_id":"themes/butterfly/scripts/tag/series.js","hash":"830b1d592278b9f676df0cf9a91b1eeda2456aec","modified":1701316433977},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"5cb273e95846874e3a58074074c501df23c5e912","modified":1701316433977},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"4526c75e5bf84609d67e92b6af3524bcb278e852","modified":1701316433977},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"ffc62222f8d7b4d44c1c0726c8a08824a2201039","modified":1701316433977},{"_id":"themes/butterfly/source/css/var.styl","hash":"152b6bd4b6285165541a71f5a1c913f8ee6a602b","modified":1701316433982},{"_id":"themes/butterfly/source/css/index.styl","hash":"755490867fd8afe47d5cce24faea2ca172b0c4dd","modified":1701316433982},{"_id":"themes/butterfly/source/img/favicon.png","hash":"4a20acbf71a3fbb664e0dd114b37aeb46de30c3e","modified":1701336697478},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1701311309538},{"_id":"themes/butterfly/source/js/main.js","hash":"0dac585446445e0c419b86eec5580bc9b0657dc6","modified":1701316433990},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1701311309538},{"_id":"themes/butterfly/source/js/utils.js","hash":"8e6b48d294e7aeaba8ff6348c43b2271cf865547","modified":1701316433990},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"f8d2e3f31468991a7f5171cbfdb157dfb86d3372","modified":1701316433990},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"8aa8d799aedbfd811195b84a451bc4b6e2647c12","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"67e1c3b48e4ca7ee0b2c76d3ca7476b9883cf105","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"7df90c8e432e33716517ab918b0a125bc284041b","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"63fed4548367a3663cdbaffa1df48167b0a2397b","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"95a37e92b39c44bcbea4be7e29ddb3921c5b8220","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"5208fe1e75d97a05fd9bdd6cc53c59d8b741b94b","modified":1701316433963},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"3d492cfe645d37c94d30512e0b230b0a09913148","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"e2e8d681f183f00ce5ee239c42d2e36b3744daad","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"944d6e9dd50df3395f3a2c7ad9db667d50dea4ed","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"31346a210f4f9912c5b29f51d8f659913492f388","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"f61659aa457d1a2d1baa3a13157996cfac4d6609","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"a5c7d362ae63474c1a4e3eb5cd09804b3684e984","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"5de9a82032cdad1db3b868b797460921cd775fc2","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"9e8c5788602b29a527ef35fe8a20076a5fa969bd","modified":1701316433964},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"6ab4e301c92586505d6cddce1b3ad23b7c79010d","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"131f344d68b4c241d6e03849b243ee792fcd3cea","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"90554c2ca5ba946f4c02e1bc5fe2859cef1b1594","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"50d1b08367f709e5416140043933e79cd8d77559","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1701311309522},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"12c65c174d26a41821df9bad26cdf1087ec5b0ca","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"f9ce83978b217a71a2eb8761dc14b09866faa3f4","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"9621991359e22b14049346f1cf87bdedc94edf5a","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"5574804fdea5edf7fd52aad2caf030614d5e7f2f","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"a096ff8eb6b2a22395be881f827ff2a686ba5596","modified":1701316433965},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"c7cfade2b160380432c47eef4cd62273b6508c58","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"1d39670ee6225f85f5c53bf5c84f3fd6e19290e8","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"0f024e36b8116118233e10118714bde304e01e12","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"12e57491e94fa00d953bbda9db0b6d6169e2358c","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"ffb9ea15a2b54423cd4cd441e2d061b8233e9b58","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"8044b9c18b34b019ffe26b7383e7e80356b5e4b5","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"ae392459ad401a083ca51ee0b27526b3c1e1faed","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"60dc48a7b5d89c2a49123c3fc5893ab9c57dd225","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"86897010fe71503e239887fd8f6a4f5851737be9","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"03c6afabbf1ac729c7fb21c7ec06da0190b0fdc7","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"d1a416d0a8a7916d0b1a41d73adc66f8c811e493","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"13dc8ce922e2e2332fe6ad5856ebb5dbf9ea4444","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"7834bf7c711e739fd33cfcd0b53d151013b3d449","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_post_series.pug","hash":"3ec354778f6a4ac97fb64d5629c83b293ccceb5e","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"3057a2f6f051355e35d3b205121af8735100eacf","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"e5aac7b28ed4123d75797263c64e74ac547945bc","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"eceb4420a64c720f0d2741e89d6229bbb3d87353","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"ae67c6d4130a6c075058a9c1faea1648bcc6f83e","modified":1701316433972},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"35ce167c5a275211bfc1fa3d49adfde5b404d98f","modified":1701316433973},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"66f7a8b0cebc05c575ec3cb70b08d6854029d87a","modified":1701316433973},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"f19694a42dbe28eda4b39a1696e8fbcd277bc76c","modified":1701316433977},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"c8ff6ddd5bfe1190b7b8056b68ce41114fd79dcb","modified":1701316433977},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"4dcd468e4d11a0ac75406162678feffcd89fee00","modified":1701316433978},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"bcd384c8b2aa0390c9eb69ac1abbfd1240ce1da4","modified":1701316433978},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"fad650f88778b33a6358e38cf50dfafc0974d28f","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"f9a5d3f1fc5ed0ed2ee4c1eaa58ed650d11ddebd","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"83a7a70eb0532ea9c4267939fe484af915fca01e","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"134811b2d696f9ed2c0cd578f3886f1c60770c0a","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"029eebbdcb3c682780d1de629fa06858cbe9782b","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"ac2aeee9926f75b2a0098efe1c114126987430f2","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"ef0fd5e3fe04a50e4386bb3f22e2ccd9290c6653","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"d6cf26ffb8a0343eda1cde65b6b73b0ddbe8fcfc","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"d53de408cb27a2e704aba7f7402b7caebe0410d8","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"fb9f78bfbb79579f1d752cb73fb6d25c8418e0fd","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"f845b9b4efdee750f70c023aab27432611f83059","modified":1701316433979},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"b7a6a585dbc38d177c9aba75df3a467415d0488a","modified":1701316433980},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"5556c9bf4f53a90cb9b4945cd76a8849bd67f3f3","modified":1701316433980},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"0db591a1f4ed5adcb8668a549bbee5c9d62682cf","modified":1701316433980},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"e549d24ad81a7d93326a509ff8dcfcc58c80729e","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"50dbb9e6d98c71ffe16741b8c1b0c1b9771efd2b","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"c9e98027f2dd730ce389c2047f62ebb748955fcf","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"4e320e16d49bc18085045937681f7331a1e243ca","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"f01ee74948cedb44e53cd3bb1ef36b7d2778ede7","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"d4ebc41b5c855dd75f47de7345d62f85ce7cf073","modified":1701316433980},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"98d755b686ee833e9da10afaa40c4ec2bd66c19a","modified":1701316433980},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"649a054e73278b6724bd4dd9b94724791ec5c928","modified":1701316433981},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"580feb7e8b0822a1be48ac380f8c5c53b1523321","modified":1701316433980},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"20a3134e1302b62bfc881f4ec43f398267111f22","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"5cddbb5f4eae695a26685e415d821b523e0f17bf","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"45f0c32bdea117540f6b14ebac6450d7142bd710","modified":1701316433981},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"961589da3c0a532c4709a4a4ea96bd579257f766","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"d76c38adf1d9c1279ef4241835667789f5b736e0","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"ce489ca2e249e2a3cf71584e20d84bdb022e3475","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"df9d405c33a9a68946b530410f64096bcb72560c","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"909bb5079b26b6ee68177919f522566503654058","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"66c59e193d794cdb02cca7bd1dc4aea5a19d7e84","modified":1701316433981},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"f071156d439556e7463ed4bc61ceee87170d5d08","modified":1701316433982},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"2d02e52b360f6e6cae47c293ae57ed78e2554663","modified":1701316433982},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"2c18a1c9604af475b4749def8f1959df88d8b276","modified":1701316433982},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"108988d046da9a4716148df43b3975217c8ceaae","modified":1701316433990},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"f7299f9fef5bf94bb58c8cd3be8ee660ad2f9cd4","modified":1701316433966},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"e1f60ebac53a3f596fd0a4769b4f9275c48c6542","modified":1701316433990},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"5f86add36eeffbed61d11f08972a13697b4d9437","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"f58f1648d2d71311bafca4833f20b605bb5f18c8","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"0344477a2cf38698318ead2681c63ac12f01586e","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"c5f7081ca29db8cc80f808dfc29e36d5fa22fd7e","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"56c028ba0ea8fac19f0125114d765dfc56ce2b48","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"001e8be47854b891efe04013c240c38fed4185eb","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"b2d274db84ef22fbd6d5ea8f4404821898934209","modified":1701316433966},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"39427e107230a10790972349c9dd4c4f31d55eb7","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"3a5ccfc69bd8ccb4b8f3ce3502023f7914f2a022","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"ddce8352b371a1fb426bdb6c33f587eb37a69647","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"2fb098a7aa45010a8cd212dc0bd5308c6e7c63e3","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"9b57a8e13de8fc51a5f550854e47164fd8ac1be8","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"618e1b7f9204049b07beb9e1363c844a78a9ace3","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/messenger.pug","hash":"e39a9c37adf4cb15a2ba3b2cc65542ffea88650d","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"dd61eca6e9a45f63e09bdefba89fe285a81ba096","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"5d5b73920843ce858df6e3b03325d5d1f43cdab3","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"62f16a602e57e5f7f7c5249dd37b42d436dc032a","modified":1701316433967},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"3bc4c1b91568561f0491bdac65b75aa0bfd01f27","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"46aec6466959baec1c3d71a5dbc510fbeb00c91d","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"2d7b0b09678adba09481e3152e0b32962677f650","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"0d378ee8a671982a46213a4bfb223b4f3409aea9","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"a9709905593d960954e2dd572f09f48a6c2b1ef7","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"00ed91c52939b9675b316137f854d13684c895a6","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"63cea2b5c8f7b59f5919379d61a2bb2ce8ed7623","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"f15699abb8c7a255aabad0222ae53eee387c66a3","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"894bf60ff5170cf1e4f276a8cedaf8301bceb824","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"1995a654ba7ad62775a0a6e2922209cd1a85f2e3","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"46865e3f52096acb07d0212174b4e8751b123aea","modified":1701316433968},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"ad7f1ee2e67deee0706e0838b5724dd37fc30a34","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"b8ae5fd7d74e1edcef21f5004fc96147e064d219","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"fc072ac839401174b5d3cf9acd3b694246c23a55","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"dfcbd9881be569ea420eff1a6b00e4f4dbe2138e","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"6b67982bb7a3713b5bffd6a23ba2810425c504d0","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"2609bc2656aaaa9b59e8d575e711776512a62192","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"e434bcfb7fee59c7be2dac58a9b3a1989f21caa8","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"9a3617f5e90c4e4176aa2ee2e904c22466e9663b","modified":1701316433969},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"4ec0642f2d5444acfab570a6f8c7868e7ff43fde","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"de2c4d02b520dd49a0a59fc0f33295e5bbb2c624","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"1f9f51023e9e33081c2add2ca73643c0edc5e9d5","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"4104f96faa6040f111ebfb9a90eeb470857c3b86","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"24804ab6da9727ed793655c1262fa3f1a9746f70","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"b928be14d1b47a9fadb1bcc5f5072a7328752d4b","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"9c3c109a12d2b6916e8b4965cca12f521510ead9","modified":1701316433970},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"a99a41334387ee9a46c6f8e8212331a29a10d159","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"3335024ba91f55ccf3858571b7898f46881c455c","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"3ba49cfe186e9ca05faf9f0d0113611ec47e9b38","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"c7dd2b2ae9b23aa0a60fffd7df9e9f76ef52033e","modified":1701316433971},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"85c92f8a7e44d7cd1c86f089a05be438535e5362","modified":1701316433971},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"cf1fae641c927621a4df1be5ca4a853b9b526e23","modified":1701316433978},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"18804c58239d95798fa86d0597f32d7f7dd30051","modified":1701316433978},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"5dc2e0bcae9a54bfb9bdcc82d02ae5a3cf1ca97d","modified":1701316433978},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"5972c61f5125068cbe0af279a0c93a54847fdc3b","modified":1701316433978},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"25914321762e30aacc610bc4dfb9de3e1cb556a3","modified":1701316433978},{"_id":"public/2023/11/30/hello-world/index.html","hash":"fbeb898edf0ed7143e03f46cd33738251d744fd5","modified":1701312511919},{"_id":"public/archives/index.html","hash":"5d15baf71ae5b68286cb72f163b1396b23d4480f","modified":1701864131302},{"_id":"public/archives/2023/index.html","hash":"532e9057422cae7dac15b53411bd0628b1e2b77b","modified":1701864131302},{"_id":"public/archives/2023/11/index.html","hash":"e3b39e182a44fdb6c8cad73f255f23911b31582d","modified":1701312511919},{"_id":"public/index.html","hash":"fd733fd6966356e73784087d6db6e52a1b6cd4cc","modified":1701864131302},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1701311390028},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1701311390028},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1701311390028},{"_id":"public/fancybox/jquery.fancybox.min.css","hash":"1be9b79be02a1cfc5d96c4a5e0feb8f472babd95","modified":1701311390028},{"_id":"public/js/script.js","hash":"49773efcb2221bbdf2d86f3f5c5ff2d841b528cc","modified":1701311390028},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1701311390028},{"_id":"public/css/style.css","hash":"dd73aa06b48cc31fbd05a487e5d0c588e5a036d6","modified":1701311390028},{"_id":"public/fancybox/jquery.fancybox.min.js","hash":"6181412e73966696d08e1e5b1243a572d0f22ba6","modified":1701311390028},{"_id":"public/js/jquery-3.6.4.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1701311390028},{"_id":"public/css/index.css","hash":"d27882816e123577074b040e3140106c0d565e1a","modified":1701311390028},{"_id":"public/js/main.js","hash":"0dac585446445e0c419b86eec5580bc9b0657dc6","modified":1701311390028},{"_id":"public/js/tw_cn.js","hash":"f8d2e3f31468991a7f5171cbfdb157dfb86d3372","modified":1701311390028},{"_id":"public/js/utils.js","hash":"8e6b48d294e7aeaba8ff6348c43b2271cf865547","modified":1701311390028},{"_id":"public/js/search/algolia.js","hash":"108988d046da9a4716148df43b3975217c8ceaae","modified":1701311390028},{"_id":"public/js/search/local-search.js","hash":"e1f60ebac53a3f596fd0a4769b4f9275c48c6542","modified":1701311390028},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1701311390028},{"_id":"themes/butterfly/source/img/albert-park.jpg","hash":"fcf5e734d2d15e326f7d2e705fab30240de35cc1","modified":1701314036847},{"_id":"themes/butterfly/source/img/favicon.PNG","hash":"4a20acbf71a3fbb664e0dd114b37aeb46de30c3e","modified":1701314626000},{"_id":"themes/butterfly/source/img/favicon.png1","hash":"acfae7b49a8a1e9e0be81b88008b194dd4dc5642","modified":1701315099000},{"_id":"themes/butterfly/source/img/favicon.png2","hash":"acfae7b49a8a1e9e0be81b88008b194dd4dc5642","modified":1701315099000},{"_id":"source/_drafts/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN.md","hash":"66d0bfc2ea235253b6abd0cbae4d759bb1bab8ed","modified":1701341947693},{"_id":"source/_drafts/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN-Part-1.md","hash":"0a7056f83cad9381204a4e50bfa2a09a5a55175b","modified":1701342090417},{"_id":"source/_posts/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN.md","hash":"eb69abe9e7b7870718249f6b9868ac8351df069e","modified":1701863979096},{"_id":"public/archives/2023/12/index.html","hash":"773b4c55f37207d9ab8a86728d3bdda706cc7cd3","modified":1701864131302},{"_id":"public/tags/Devops/index.html","hash":"062818789e6d9eb54b4d0bf5c096c801d250716c","modified":1701864131302},{"_id":"public/tags/AWS/index.html","hash":"d9eb08303ebd9992b69f027723e3587c869da27e","modified":1701864131302},{"_id":"public/tags/Cloud/index.html","hash":"f9817433c4046a94b3e9d8ab8d4d3c38a4e36368","modified":1701864131302},{"_id":"public/tags/Security/index.html","hash":"c9475510b076ce9d278125a16c72e20772d589cd","modified":1701864131302},{"_id":"public/tags/VPN/index.html","hash":"de27778ddd2763255cfa2e622e8ea7939d685716","modified":1701864131302},{"_id":"public/tags/AWS-Client-VPN/index.html","hash":"a55728efaf19e5f069752f1c122e731bb62251dd","modified":1701864131302},{"_id":"public/tags/Mutual-authentication/index.html","hash":"7b53742c7259826961c318f8f98858b192c7e342","modified":1701864131302},{"_id":"public/2023/12/06/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN/index.html","hash":"e027accf6098dce3803691859526b72024e104cc","modified":1701864131302},{"_id":"public/img/albert-park.jpg","hash":"fcf5e734d2d15e326f7d2e705fab30240de35cc1","modified":1701864131302}],"Category":[],"Data":[],"Page":[],"Post":[{"layout":"drafts","title":"VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN","date":"2023-12-06T10:58:55.000Z","_content":"\n\n# VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN\n\n## Introduction\nAWS Client VPN is a managed client-based VPN service that enables you to securely access your AWS resources and resources in your on-premises network. With Client VPN, you can access your resources from any location using an OpenVPN-based VPN client. \n\nToday, we will be discussing how to set up AWS Client VPN by Terraform and describe the process of connecting to the VPN from a client machine.\n\nThis is the first part of the series of articles about AWS Client VPN. \\\n## Prerequisites\n- AWS Account\n- Terraform (latest version)\n- OpenVPN client (https://openvpn.net/client/)\n- AWS CLI (latest version)\n- AWS CLI profile configured with access to your AWS account\n- Existed VPC with public subnets and private subnets.\n\n## Details of AWS Client VPN\n### Features\nAWS Client VPN supports the following features:\n- **Mutual authentication**: AWS Client VPN supports mutual authentication with certificate-based clients for a more secure VPN connection.\n- **Active Directory**: AWS Client VPN supports Active Directory authentication for Windows-based clients.\n- **Federated authentication**: AWS Client VPN supports federated authentication with the Security Assertion Markup Language (SAML) 2.0 standard.\n\nWe will be using mutual authentication in this article.\n\n### Mutual authentication\nMutual authentication performs like belows: \n- Mutual authentication requires that the client and the server have a certificate that is signed by a common certificate authority (CA). \n- The client presents its certificate to the server during authentication. \n- The server validates the client certificate and authenticates the client. \n\nYou can use AWS managed certificate authority (ACM) to generate the certificate, but it is not free. We can use easy-rsa to generate the client certificate and server certificate as AWS suggests.\n\n#### Use easy-rsa to generate the client certificate and server certificate\n> Easy-RSA is a utility for managing X.509 PKI, an X.509 certificate binds an identity to a public key using a digital signature.\n\n### Pricing\n> AWS Client VPN endpoint association\t$0.10 per hour \n> \n>AWS Client VPN connection\t$0.05 per hour\n## Architecture\n\n![Architecture](https://images.lancexuanli.site/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN-Part-1-architecture.png)\n_Architecture diagram of AWS Client VPN, set VPN in multiple zones to improve resilience_\n\n\n## Steps\n\n###  Create a server cert and client certs\n1. Install [easy-rsa](https://github.com/OpenVPN/easy-rsa).\n2. Generate the CA certificate and key.\n```shell\n# after theres commands you will get the ca.crt and ca.key in the pki/ca directory\ncd easy-rsa/easyrsa3\n./easyrsa init-pki\n./easyrsa build-ca\n```\n3. Generate the server certificate and key.\n```shell\n# after theres commands you will get the server.crt and server.key in the pki/issued directory\n# we will upload the server.crt to AWS certificate manager to create a server certificate \n# and then use it to create the AWS Client VPN.\ncd easy-rsa/easyrsa3\n./easyrsa build-server-full server\n```\n4. Generate the client certificate and key.\n```shell\n# after theres commands you will get the client.crt and client.key in the pki/issued directory\n# you should create a client name for each client (colleagues in your company!)\ncd easy-rsa/easyrsa3\n./easyrsa build-client-full <client-name>\n```\n\n### Upload the server certificate to AWS Certificate Manager\n```shell\naws acm import-certificate --certificate fileb://server.crt --private-key fileb://server.key --certificate-chain fileb://ca.crt```\n```\n\n### Create a Client VPN endpoint\n```terraform\nresource \"aws_security_group\" \"test\" {\n  # your vpc id\n  vpc_id = \"xxx\"\n  # your security group name\n  name   = \"xxx\"\n\n  ingress {\n    from_port   = 1194\n    to_port     = 1194\n    protocol    = \"udp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n    description = \"Incoming VPN connection\"\n  }\n\n  egress {\n    from_port   = 0\n    protocol    = \"-1\"\n    to_port     = 0\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n}\n\nresource \"aws_cloudwatch_log_stream\" \"test\" {\n  # your log stream name\n  name           = \"xxx\"\n  log_group_name = aws_cloudwatch_log_group.test.name\n}\n\nresource \"aws_cloudwatch_log_group\" \"test\" {\n  # your log group name\n  name = \"xxx\"\n}\n\nresource \"aws_ec2_client_vpn_endpoint\" \"test\" {\n  vpc_id                 = \"xxx\"\n  description            = \"xxx\"\n  \n  # if false, all trips will go through the vpn, it may cost you more money\n  split_tunnel           = true\n  transport_protocol     = \"udp\"\n  vpn_port               = 1194\n  # server certificate arn, find it in AWS Certificate Manager\n  server_certificate_arn = \"xxx\"\n  # session timeout hours\n  session_timeout_hours  = 10\n  # your vpn cidr block (should be different from your vpc cidr block)\n  client_cidr_block      = \"xxx\"\n  \n  security_group_ids     = [aws_security_group.test.ids]\n  # you can use your own dns servers\n  dns_servers            = [\"1.1.1.1\", \"8.8.8.8\"]\n  \n  connection_log_options {\n    # use this it will log all the traffic\n    enabled               = true\n    cloudwatch_log_group  = aws_cloudwatch_log_group.test.name\n    cloudwatch_log_stream = aws_cloudwatch_log_stream.test.name\n  }\n\n  authentication_options {\n    type                       = \"certificate-authentication\"\n    # server certificate arn, find it in AWS Certificate Manager\n    root_certificate_chain_arn =\"xxx\"\n  }\n  \n  tags = {\n    # your tags\n    Name = \"xxx\"\n  }\n\n  client_login_banner_options {\n    # your banner text\n    banner_text = \"xxx\"\n    enabled     = true\n  }\n  \n}\n\n\n\nresource \"aws_ec2_client_vpn_route\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # your vpc cidr block\n  destination_cidr_block = \"xxx\"\n  target_vpc_subnet_id   = aws_ec2_client_vpn_network_association.test.subnet_id\n}\n\nresource \"aws_ec2_client_vpn_authorization_rule\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # your vpc cidr block\n  target_network_cidr    = \"xxx\"\n  authorize_all_groups   = true\n  description            = \"xxx\"\n}\n\nresource \"aws_ec2_client_vpn_network_association\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # one of your vpc subnet id\n  subnet_id              = \"xxx\"\n}\n```\n\n## How to use AWS Client VPN.\nSend the client certificate and key to your colleagues, and they can use the OpenVPN client to connect to the VPN.\nRead this [page](https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/cvpn-working-endpoint-export.html) to know how to export the client certificate and key.\n","source":"_posts/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN.md","raw":"---\nlayout: drafts\ntitle: >-\n  VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN\ntags:\n  - Devops\n  - AWS\n  - Cloud\n  - Security\n  - VPN\n  - AWS Client VPN\n  - Mutual authentication\ndate: 2023-12-06 21:58:55\n---\n\n\n# VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN\n\n## Introduction\nAWS Client VPN is a managed client-based VPN service that enables you to securely access your AWS resources and resources in your on-premises network. With Client VPN, you can access your resources from any location using an OpenVPN-based VPN client. \n\nToday, we will be discussing how to set up AWS Client VPN by Terraform and describe the process of connecting to the VPN from a client machine.\n\nThis is the first part of the series of articles about AWS Client VPN. \\\n## Prerequisites\n- AWS Account\n- Terraform (latest version)\n- OpenVPN client (https://openvpn.net/client/)\n- AWS CLI (latest version)\n- AWS CLI profile configured with access to your AWS account\n- Existed VPC with public subnets and private subnets.\n\n## Details of AWS Client VPN\n### Features\nAWS Client VPN supports the following features:\n- **Mutual authentication**: AWS Client VPN supports mutual authentication with certificate-based clients for a more secure VPN connection.\n- **Active Directory**: AWS Client VPN supports Active Directory authentication for Windows-based clients.\n- **Federated authentication**: AWS Client VPN supports federated authentication with the Security Assertion Markup Language (SAML) 2.0 standard.\n\nWe will be using mutual authentication in this article.\n\n### Mutual authentication\nMutual authentication performs like belows: \n- Mutual authentication requires that the client and the server have a certificate that is signed by a common certificate authority (CA). \n- The client presents its certificate to the server during authentication. \n- The server validates the client certificate and authenticates the client. \n\nYou can use AWS managed certificate authority (ACM) to generate the certificate, but it is not free. We can use easy-rsa to generate the client certificate and server certificate as AWS suggests.\n\n#### Use easy-rsa to generate the client certificate and server certificate\n> Easy-RSA is a utility for managing X.509 PKI, an X.509 certificate binds an identity to a public key using a digital signature.\n\n### Pricing\n> AWS Client VPN endpoint association\t$0.10 per hour \n> \n>AWS Client VPN connection\t$0.05 per hour\n## Architecture\n\n![Architecture](https://images.lancexuanli.site/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN-Part-1-architecture.png)\n_Architecture diagram of AWS Client VPN, set VPN in multiple zones to improve resilience_\n\n\n## Steps\n\n###  Create a server cert and client certs\n1. Install [easy-rsa](https://github.com/OpenVPN/easy-rsa).\n2. Generate the CA certificate and key.\n```shell\n# after theres commands you will get the ca.crt and ca.key in the pki/ca directory\ncd easy-rsa/easyrsa3\n./easyrsa init-pki\n./easyrsa build-ca\n```\n3. Generate the server certificate and key.\n```shell\n# after theres commands you will get the server.crt and server.key in the pki/issued directory\n# we will upload the server.crt to AWS certificate manager to create a server certificate \n# and then use it to create the AWS Client VPN.\ncd easy-rsa/easyrsa3\n./easyrsa build-server-full server\n```\n4. Generate the client certificate and key.\n```shell\n# after theres commands you will get the client.crt and client.key in the pki/issued directory\n# you should create a client name for each client (colleagues in your company!)\ncd easy-rsa/easyrsa3\n./easyrsa build-client-full <client-name>\n```\n\n### Upload the server certificate to AWS Certificate Manager\n```shell\naws acm import-certificate --certificate fileb://server.crt --private-key fileb://server.key --certificate-chain fileb://ca.crt```\n```\n\n### Create a Client VPN endpoint\n```terraform\nresource \"aws_security_group\" \"test\" {\n  # your vpc id\n  vpc_id = \"xxx\"\n  # your security group name\n  name   = \"xxx\"\n\n  ingress {\n    from_port   = 1194\n    to_port     = 1194\n    protocol    = \"udp\"\n    cidr_blocks = [\"0.0.0.0/0\"]\n    description = \"Incoming VPN connection\"\n  }\n\n  egress {\n    from_port   = 0\n    protocol    = \"-1\"\n    to_port     = 0\n    cidr_blocks = [\"0.0.0.0/0\"]\n  }\n}\n\nresource \"aws_cloudwatch_log_stream\" \"test\" {\n  # your log stream name\n  name           = \"xxx\"\n  log_group_name = aws_cloudwatch_log_group.test.name\n}\n\nresource \"aws_cloudwatch_log_group\" \"test\" {\n  # your log group name\n  name = \"xxx\"\n}\n\nresource \"aws_ec2_client_vpn_endpoint\" \"test\" {\n  vpc_id                 = \"xxx\"\n  description            = \"xxx\"\n  \n  # if false, all trips will go through the vpn, it may cost you more money\n  split_tunnel           = true\n  transport_protocol     = \"udp\"\n  vpn_port               = 1194\n  # server certificate arn, find it in AWS Certificate Manager\n  server_certificate_arn = \"xxx\"\n  # session timeout hours\n  session_timeout_hours  = 10\n  # your vpn cidr block (should be different from your vpc cidr block)\n  client_cidr_block      = \"xxx\"\n  \n  security_group_ids     = [aws_security_group.test.ids]\n  # you can use your own dns servers\n  dns_servers            = [\"1.1.1.1\", \"8.8.8.8\"]\n  \n  connection_log_options {\n    # use this it will log all the traffic\n    enabled               = true\n    cloudwatch_log_group  = aws_cloudwatch_log_group.test.name\n    cloudwatch_log_stream = aws_cloudwatch_log_stream.test.name\n  }\n\n  authentication_options {\n    type                       = \"certificate-authentication\"\n    # server certificate arn, find it in AWS Certificate Manager\n    root_certificate_chain_arn =\"xxx\"\n  }\n  \n  tags = {\n    # your tags\n    Name = \"xxx\"\n  }\n\n  client_login_banner_options {\n    # your banner text\n    banner_text = \"xxx\"\n    enabled     = true\n  }\n  \n}\n\n\n\nresource \"aws_ec2_client_vpn_route\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # your vpc cidr block\n  destination_cidr_block = \"xxx\"\n  target_vpc_subnet_id   = aws_ec2_client_vpn_network_association.test.subnet_id\n}\n\nresource \"aws_ec2_client_vpn_authorization_rule\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # your vpc cidr block\n  target_network_cidr    = \"xxx\"\n  authorize_all_groups   = true\n  description            = \"xxx\"\n}\n\nresource \"aws_ec2_client_vpn_network_association\" \"test\" {\n  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id\n  # one of your vpc subnet id\n  subnet_id              = \"xxx\"\n}\n```\n\n## How to use AWS Client VPN.\nSend the client certificate and key to your colleagues, and they can use the OpenVPN client to connect to the VPN.\nRead this [page](https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/cvpn-working-endpoint-export.html) to know how to export the client certificate and key.\n","slug":"VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN","published":1,"updated":"2023-12-06T11:59:39.096Z","_id":"clptpuvd80000mhsih9wg3sam","comments":1,"photos":[],"content":"<h1 id=\"VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN\"><a href=\"#VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN\" class=\"headerlink\" title=\"VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN\"></a>VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN</h1><h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>AWS Client VPN is a managed client-based VPN service that enables you to securely access your AWS resources and resources in your on-premises network. With Client VPN, you can access your resources from any location using an OpenVPN-based VPN client. </p>\n<p>Today, we will be discussing how to set up AWS Client VPN by Terraform and describe the process of connecting to the VPN from a client machine.</p>\n<p>This is the first part of the series of articles about AWS Client VPN. \\</p>\n<h2 id=\"Prerequisites\"><a href=\"#Prerequisites\" class=\"headerlink\" title=\"Prerequisites\"></a>Prerequisites</h2><ul>\n<li>AWS Account</li>\n<li>Terraform (latest version)</li>\n<li>OpenVPN client (<a href=\"https://openvpn.net/client/\">https://openvpn.net/client/</a>)</li>\n<li>AWS CLI (latest version)</li>\n<li>AWS CLI profile configured with access to your AWS account</li>\n<li>Existed VPC with public subnets and private subnets.</li>\n</ul>\n<h2 id=\"Details-of-AWS-Client-VPN\"><a href=\"#Details-of-AWS-Client-VPN\" class=\"headerlink\" title=\"Details of AWS Client VPN\"></a>Details of AWS Client VPN</h2><h3 id=\"Features\"><a href=\"#Features\" class=\"headerlink\" title=\"Features\"></a>Features</h3><p>AWS Client VPN supports the following features:</p>\n<ul>\n<li><strong>Mutual authentication</strong>: AWS Client VPN supports mutual authentication with certificate-based clients for a more secure VPN connection.</li>\n<li><strong>Active Directory</strong>: AWS Client VPN supports Active Directory authentication for Windows-based clients.</li>\n<li><strong>Federated authentication</strong>: AWS Client VPN supports federated authentication with the Security Assertion Markup Language (SAML) 2.0 standard.</li>\n</ul>\n<p>We will be using mutual authentication in this article.</p>\n<h3 id=\"Mutual-authentication\"><a href=\"#Mutual-authentication\" class=\"headerlink\" title=\"Mutual authentication\"></a>Mutual authentication</h3><p>Mutual authentication performs like belows: </p>\n<ul>\n<li>Mutual authentication requires that the client and the server have a certificate that is signed by a common certificate authority (CA). </li>\n<li>The client presents its certificate to the server during authentication. </li>\n<li>The server validates the client certificate and authenticates the client.</li>\n</ul>\n<p>You can use AWS managed certificate authority (ACM) to generate the certificate, but it is not free. We can use easy-rsa to generate the client certificate and server certificate as AWS suggests.</p>\n<h4 id=\"Use-easy-rsa-to-generate-the-client-certificate-and-server-certificate\"><a href=\"#Use-easy-rsa-to-generate-the-client-certificate-and-server-certificate\" class=\"headerlink\" title=\"Use easy-rsa to generate the client certificate and server certificate\"></a>Use easy-rsa to generate the client certificate and server certificate</h4><blockquote>\n<p>Easy-RSA is a utility for managing X.509 PKI, an X.509 certificate binds an identity to a public key using a digital signature.</p>\n</blockquote>\n<h3 id=\"Pricing\"><a href=\"#Pricing\" class=\"headerlink\" title=\"Pricing\"></a>Pricing</h3><blockquote>\n<p>AWS Client VPN endpoint association\t$0.10 per hour </p>\n<p>AWS Client VPN connection\t$0.05 per hour</p>\n</blockquote>\n<h2 id=\"Architecture\"><a href=\"#Architecture\" class=\"headerlink\" title=\"Architecture\"></a>Architecture</h2><p><img src=\"https://images.lancexuanli.site/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN-Part-1-architecture.png\" alt=\"Architecture\"><br><em>Architecture diagram of AWS Client VPN, set VPN in multiple zones to improve resilience</em></p>\n<h2 id=\"Steps\"><a href=\"#Steps\" class=\"headerlink\" title=\"Steps\"></a>Steps</h2><h3 id=\"Create-a-server-cert-and-client-certs\"><a href=\"#Create-a-server-cert-and-client-certs\" class=\"headerlink\" title=\"Create a server cert and client certs\"></a>Create a server cert and client certs</h3><ol>\n<li>Install <a href=\"https://github.com/OpenVPN/easy-rsa\">easy-rsa</a>.</li>\n<li>Generate the CA certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the ca.crt and ca.key <span class=\"keyword\">in</span> the pki/ca directory</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa init-pki</span><br><span class=\"line\">./easyrsa build-ca</span><br></pre></td></tr></table></figure></li>\n<li>Generate the server certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the server.crt and server.key <span class=\"keyword\">in</span> the pki/issued directory</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">we will upload the server.crt to AWS certificate manager to create a server certificate</span> </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">and <span class=\"keyword\">then</span> use it to create the AWS Client VPN.</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa build-server-full server</span><br></pre></td></tr></table></figure></li>\n<li>Generate the client certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the client.crt and client.key <span class=\"keyword\">in</span> the pki/issued directory</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">you should create a client name <span class=\"keyword\">for</span> each client (colleagues <span class=\"keyword\">in</span> your company!)</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa build-client-full &lt;client-name&gt;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"Upload-the-server-certificate-to-AWS-Certificate-Manager\"><a href=\"#Upload-the-server-certificate-to-AWS-Certificate-Manager\" class=\"headerlink\" title=\"Upload the server certificate to AWS Certificate Manager\"></a>Upload the server certificate to AWS Certificate Manager</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aws acm import-certificate --certificate fileb://server.crt --private-key fileb://server.key --certificate-chain fileb://ca.crt```</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Create-a-Client-VPN-endpoint\"><a href=\"#Create-a-Client-VPN-endpoint\" class=\"headerlink\" title=\"Create a Client VPN endpoint\"></a>Create a Client VPN endpoint</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resource &quot;aws_security_group&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your vpc id</span><br><span class=\"line\">  vpc_id = &quot;xxx&quot;</span><br><span class=\"line\">  # your security group name</span><br><span class=\"line\">  name   = &quot;xxx&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">  ingress &#123;</span><br><span class=\"line\">    from_port   = 1194</span><br><span class=\"line\">    to_port     = 1194</span><br><span class=\"line\">    protocol    = &quot;udp&quot;</span><br><span class=\"line\">    cidr_blocks = [&quot;0.0.0.0/0&quot;]</span><br><span class=\"line\">    description = &quot;Incoming VPN connection&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  egress &#123;</span><br><span class=\"line\">    from_port   = 0</span><br><span class=\"line\">    protocol    = &quot;-1&quot;</span><br><span class=\"line\">    to_port     = 0</span><br><span class=\"line\">    cidr_blocks = [&quot;0.0.0.0/0&quot;]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_cloudwatch_log_stream&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your log stream name</span><br><span class=\"line\">  name           = &quot;xxx&quot;</span><br><span class=\"line\">  log_group_name = aws_cloudwatch_log_group.test.name</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_cloudwatch_log_group&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your log group name</span><br><span class=\"line\">  name = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_endpoint&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  vpc_id                 = &quot;xxx&quot;</span><br><span class=\"line\">  description            = &quot;xxx&quot;</span><br><span class=\"line\">  </span><br><span class=\"line\">  # if false, all trips will go through the vpn, it may cost you more money</span><br><span class=\"line\">  split_tunnel           = true</span><br><span class=\"line\">  transport_protocol     = &quot;udp&quot;</span><br><span class=\"line\">  vpn_port               = 1194</span><br><span class=\"line\">  # server certificate arn, find it in AWS Certificate Manager</span><br><span class=\"line\">  server_certificate_arn = &quot;xxx&quot;</span><br><span class=\"line\">  # session timeout hours</span><br><span class=\"line\">  session_timeout_hours  = 10</span><br><span class=\"line\">  # your vpn cidr block (should be different from your vpc cidr block)</span><br><span class=\"line\">  client_cidr_block      = &quot;xxx&quot;</span><br><span class=\"line\">  </span><br><span class=\"line\">  security_group_ids     = [aws_security_group.test.ids]</span><br><span class=\"line\">  # you can use your own dns servers</span><br><span class=\"line\">  dns_servers            = [&quot;1.1.1.1&quot;, &quot;8.8.8.8&quot;]</span><br><span class=\"line\">  </span><br><span class=\"line\">  connection_log_options &#123;</span><br><span class=\"line\">    # use this it will log all the traffic</span><br><span class=\"line\">    enabled               = true</span><br><span class=\"line\">    cloudwatch_log_group  = aws_cloudwatch_log_group.test.name</span><br><span class=\"line\">    cloudwatch_log_stream = aws_cloudwatch_log_stream.test.name</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  authentication_options &#123;</span><br><span class=\"line\">    type                       = &quot;certificate-authentication&quot;</span><br><span class=\"line\">    # server certificate arn, find it in AWS Certificate Manager</span><br><span class=\"line\">    root_certificate_chain_arn =&quot;xxx&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  tags = &#123;</span><br><span class=\"line\">    # your tags</span><br><span class=\"line\">    Name = &quot;xxx&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  client_login_banner_options &#123;</span><br><span class=\"line\">    # your banner text</span><br><span class=\"line\">    banner_text = &quot;xxx&quot;</span><br><span class=\"line\">    enabled     = true</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_route&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # your vpc cidr block</span><br><span class=\"line\">  destination_cidr_block = &quot;xxx&quot;</span><br><span class=\"line\">  target_vpc_subnet_id   = aws_ec2_client_vpn_network_association.test.subnet_id</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_authorization_rule&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # your vpc cidr block</span><br><span class=\"line\">  target_network_cidr    = &quot;xxx&quot;</span><br><span class=\"line\">  authorize_all_groups   = true</span><br><span class=\"line\">  description            = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_network_association&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # one of your vpc subnet id</span><br><span class=\"line\">  subnet_id              = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"How-to-use-AWS-Client-VPN\"><a href=\"#How-to-use-AWS-Client-VPN\" class=\"headerlink\" title=\"How to use AWS Client VPN.\"></a>How to use AWS Client VPN.</h2><p>Send the client certificate and key to your colleagues, and they can use the OpenVPN client to connect to the VPN.<br>Read this <a href=\"https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/cvpn-working-endpoint-export.html\">page</a> to know how to export the client certificate and key.</p>\n","cover":false,"excerpt":"","more":"<h1 id=\"VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN\"><a href=\"#VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN\" class=\"headerlink\" title=\"VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN\"></a>VPN Mastery Guide: Optimizing Company Network Access with AWS Client VPN</h1><h2 id=\"Introduction\"><a href=\"#Introduction\" class=\"headerlink\" title=\"Introduction\"></a>Introduction</h2><p>AWS Client VPN is a managed client-based VPN service that enables you to securely access your AWS resources and resources in your on-premises network. With Client VPN, you can access your resources from any location using an OpenVPN-based VPN client. </p>\n<p>Today, we will be discussing how to set up AWS Client VPN by Terraform and describe the process of connecting to the VPN from a client machine.</p>\n<p>This is the first part of the series of articles about AWS Client VPN. \\</p>\n<h2 id=\"Prerequisites\"><a href=\"#Prerequisites\" class=\"headerlink\" title=\"Prerequisites\"></a>Prerequisites</h2><ul>\n<li>AWS Account</li>\n<li>Terraform (latest version)</li>\n<li>OpenVPN client (<a href=\"https://openvpn.net/client/\">https://openvpn.net/client/</a>)</li>\n<li>AWS CLI (latest version)</li>\n<li>AWS CLI profile configured with access to your AWS account</li>\n<li>Existed VPC with public subnets and private subnets.</li>\n</ul>\n<h2 id=\"Details-of-AWS-Client-VPN\"><a href=\"#Details-of-AWS-Client-VPN\" class=\"headerlink\" title=\"Details of AWS Client VPN\"></a>Details of AWS Client VPN</h2><h3 id=\"Features\"><a href=\"#Features\" class=\"headerlink\" title=\"Features\"></a>Features</h3><p>AWS Client VPN supports the following features:</p>\n<ul>\n<li><strong>Mutual authentication</strong>: AWS Client VPN supports mutual authentication with certificate-based clients for a more secure VPN connection.</li>\n<li><strong>Active Directory</strong>: AWS Client VPN supports Active Directory authentication for Windows-based clients.</li>\n<li><strong>Federated authentication</strong>: AWS Client VPN supports federated authentication with the Security Assertion Markup Language (SAML) 2.0 standard.</li>\n</ul>\n<p>We will be using mutual authentication in this article.</p>\n<h3 id=\"Mutual-authentication\"><a href=\"#Mutual-authentication\" class=\"headerlink\" title=\"Mutual authentication\"></a>Mutual authentication</h3><p>Mutual authentication performs like belows: </p>\n<ul>\n<li>Mutual authentication requires that the client and the server have a certificate that is signed by a common certificate authority (CA). </li>\n<li>The client presents its certificate to the server during authentication. </li>\n<li>The server validates the client certificate and authenticates the client.</li>\n</ul>\n<p>You can use AWS managed certificate authority (ACM) to generate the certificate, but it is not free. We can use easy-rsa to generate the client certificate and server certificate as AWS suggests.</p>\n<h4 id=\"Use-easy-rsa-to-generate-the-client-certificate-and-server-certificate\"><a href=\"#Use-easy-rsa-to-generate-the-client-certificate-and-server-certificate\" class=\"headerlink\" title=\"Use easy-rsa to generate the client certificate and server certificate\"></a>Use easy-rsa to generate the client certificate and server certificate</h4><blockquote>\n<p>Easy-RSA is a utility for managing X.509 PKI, an X.509 certificate binds an identity to a public key using a digital signature.</p>\n</blockquote>\n<h3 id=\"Pricing\"><a href=\"#Pricing\" class=\"headerlink\" title=\"Pricing\"></a>Pricing</h3><blockquote>\n<p>AWS Client VPN endpoint association\t$0.10 per hour </p>\n<p>AWS Client VPN connection\t$0.05 per hour</p>\n</blockquote>\n<h2 id=\"Architecture\"><a href=\"#Architecture\" class=\"headerlink\" title=\"Architecture\"></a>Architecture</h2><p><img src=\"https://images.lancexuanli.site/VPN-Mastery-Guide-Optimizing-Company-Network-Access-with-AWS-Client-VPN-Part-1-architecture.png\" alt=\"Architecture\"><br><em>Architecture diagram of AWS Client VPN, set VPN in multiple zones to improve resilience</em></p>\n<h2 id=\"Steps\"><a href=\"#Steps\" class=\"headerlink\" title=\"Steps\"></a>Steps</h2><h3 id=\"Create-a-server-cert-and-client-certs\"><a href=\"#Create-a-server-cert-and-client-certs\" class=\"headerlink\" title=\"Create a server cert and client certs\"></a>Create a server cert and client certs</h3><ol>\n<li>Install <a href=\"https://github.com/OpenVPN/easy-rsa\">easy-rsa</a>.</li>\n<li>Generate the CA certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the ca.crt and ca.key <span class=\"keyword\">in</span> the pki/ca directory</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa init-pki</span><br><span class=\"line\">./easyrsa build-ca</span><br></pre></td></tr></table></figure></li>\n<li>Generate the server certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the server.crt and server.key <span class=\"keyword\">in</span> the pki/issued directory</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">we will upload the server.crt to AWS certificate manager to create a server certificate</span> </span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">and <span class=\"keyword\">then</span> use it to create the AWS Client VPN.</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa build-server-full server</span><br></pre></td></tr></table></figure></li>\n<li>Generate the client certificate and key.<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">after theres commands you will get the client.crt and client.key <span class=\"keyword\">in</span> the pki/issued directory</span></span><br><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">you should create a client name <span class=\"keyword\">for</span> each client (colleagues <span class=\"keyword\">in</span> your company!)</span></span><br><span class=\"line\">cd easy-rsa/easyrsa3</span><br><span class=\"line\">./easyrsa build-client-full &lt;client-name&gt;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"Upload-the-server-certificate-to-AWS-Certificate-Manager\"><a href=\"#Upload-the-server-certificate-to-AWS-Certificate-Manager\" class=\"headerlink\" title=\"Upload the server certificate to AWS Certificate Manager\"></a>Upload the server certificate to AWS Certificate Manager</h3><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aws acm import-certificate --certificate fileb://server.crt --private-key fileb://server.key --certificate-chain fileb://ca.crt```</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Create-a-Client-VPN-endpoint\"><a href=\"#Create-a-Client-VPN-endpoint\" class=\"headerlink\" title=\"Create a Client VPN endpoint\"></a>Create a Client VPN endpoint</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">resource &quot;aws_security_group&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your vpc id</span><br><span class=\"line\">  vpc_id = &quot;xxx&quot;</span><br><span class=\"line\">  # your security group name</span><br><span class=\"line\">  name   = &quot;xxx&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">  ingress &#123;</span><br><span class=\"line\">    from_port   = 1194</span><br><span class=\"line\">    to_port     = 1194</span><br><span class=\"line\">    protocol    = &quot;udp&quot;</span><br><span class=\"line\">    cidr_blocks = [&quot;0.0.0.0/0&quot;]</span><br><span class=\"line\">    description = &quot;Incoming VPN connection&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  egress &#123;</span><br><span class=\"line\">    from_port   = 0</span><br><span class=\"line\">    protocol    = &quot;-1&quot;</span><br><span class=\"line\">    to_port     = 0</span><br><span class=\"line\">    cidr_blocks = [&quot;0.0.0.0/0&quot;]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_cloudwatch_log_stream&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your log stream name</span><br><span class=\"line\">  name           = &quot;xxx&quot;</span><br><span class=\"line\">  log_group_name = aws_cloudwatch_log_group.test.name</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_cloudwatch_log_group&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  # your log group name</span><br><span class=\"line\">  name = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_endpoint&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  vpc_id                 = &quot;xxx&quot;</span><br><span class=\"line\">  description            = &quot;xxx&quot;</span><br><span class=\"line\">  </span><br><span class=\"line\">  # if false, all trips will go through the vpn, it may cost you more money</span><br><span class=\"line\">  split_tunnel           = true</span><br><span class=\"line\">  transport_protocol     = &quot;udp&quot;</span><br><span class=\"line\">  vpn_port               = 1194</span><br><span class=\"line\">  # server certificate arn, find it in AWS Certificate Manager</span><br><span class=\"line\">  server_certificate_arn = &quot;xxx&quot;</span><br><span class=\"line\">  # session timeout hours</span><br><span class=\"line\">  session_timeout_hours  = 10</span><br><span class=\"line\">  # your vpn cidr block (should be different from your vpc cidr block)</span><br><span class=\"line\">  client_cidr_block      = &quot;xxx&quot;</span><br><span class=\"line\">  </span><br><span class=\"line\">  security_group_ids     = [aws_security_group.test.ids]</span><br><span class=\"line\">  # you can use your own dns servers</span><br><span class=\"line\">  dns_servers            = [&quot;1.1.1.1&quot;, &quot;8.8.8.8&quot;]</span><br><span class=\"line\">  </span><br><span class=\"line\">  connection_log_options &#123;</span><br><span class=\"line\">    # use this it will log all the traffic</span><br><span class=\"line\">    enabled               = true</span><br><span class=\"line\">    cloudwatch_log_group  = aws_cloudwatch_log_group.test.name</span><br><span class=\"line\">    cloudwatch_log_stream = aws_cloudwatch_log_stream.test.name</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  authentication_options &#123;</span><br><span class=\"line\">    type                       = &quot;certificate-authentication&quot;</span><br><span class=\"line\">    # server certificate arn, find it in AWS Certificate Manager</span><br><span class=\"line\">    root_certificate_chain_arn =&quot;xxx&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  tags = &#123;</span><br><span class=\"line\">    # your tags</span><br><span class=\"line\">    Name = &quot;xxx&quot;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  client_login_banner_options &#123;</span><br><span class=\"line\">    # your banner text</span><br><span class=\"line\">    banner_text = &quot;xxx&quot;</span><br><span class=\"line\">    enabled     = true</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_route&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # your vpc cidr block</span><br><span class=\"line\">  destination_cidr_block = &quot;xxx&quot;</span><br><span class=\"line\">  target_vpc_subnet_id   = aws_ec2_client_vpn_network_association.test.subnet_id</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_authorization_rule&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # your vpc cidr block</span><br><span class=\"line\">  target_network_cidr    = &quot;xxx&quot;</span><br><span class=\"line\">  authorize_all_groups   = true</span><br><span class=\"line\">  description            = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">resource &quot;aws_ec2_client_vpn_network_association&quot; &quot;test&quot; &#123;</span><br><span class=\"line\">  client_vpn_endpoint_id = aws_ec2_client_vpn_endpoint.test.id</span><br><span class=\"line\">  # one of your vpc subnet id</span><br><span class=\"line\">  subnet_id              = &quot;xxx&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"How-to-use-AWS-Client-VPN\"><a href=\"#How-to-use-AWS-Client-VPN\" class=\"headerlink\" title=\"How to use AWS Client VPN.\"></a>How to use AWS Client VPN.</h2><p>Send the client certificate and key to your colleagues, and they can use the OpenVPN client to connect to the VPN.<br>Read this <a href=\"https://docs.aws.amazon.com/vpn/latest/clientvpn-admin/cvpn-working-endpoint-export.html\">page</a> to know how to export the client certificate and key.</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl32goz0003d8u6cov62qrh","_id":"clptpuvdb0002mhsi0s88a8ah"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl32goz0004d8u61cmh02ua","_id":"clptpuvdb0003mhsi50asd2bd"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl33vot0000gpu6bl269qqj","_id":"clptpuvdb0004mhsibxr3c6nh"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl33vou0001gpu67bt361o1","_id":"clptpuvdb0005mhsi2z608iv0"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl33vou0002gpu6616101p4","_id":"clptpuvdc0006mhsidrls9kix"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clpl33vov0003gpu650yw2pgq","_id":"clptpuvdc0007mhsi26v20i33"},{"post_id":"clptpuvd80000mhsih9wg3sam","tag_id":"clptpuvdb0001mhsi1ej0525e","_id":"clptpuvdc0008mhsi8tf52g80"}],"Tag":[{"name":"Devops,AWS,Cloud,Security,VPN, AWS Client VPN","_id":"clpl3123r0001d8u6364hb5na"},{"name":"Devops","_id":"clpl32goz0003d8u6cov62qrh"},{"name":"AWS","_id":"clpl32goz0004d8u61cmh02ua"},{"name":"Cloud","_id":"clpl33vot0000gpu6bl269qqj"},{"name":"Security","_id":"clpl33vou0001gpu67bt361o1"},{"name":"VPN","_id":"clpl33vou0002gpu6616101p4"},{"name":"AWS Client VPN","_id":"clpl33vov0003gpu650yw2pgq"},{"name":"Mutual authentication","_id":"clptpuvdb0001mhsi1ej0525e"}]}}